# ๐ฆ ููุฎุต ูุดุฑูุน MedMap - ุจูุฆุฉ Docker ุงููุงููุฉ

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฅูุดุงุก ุจูุฆุฉ Docker ุงุญุชุฑุงููุฉ ูุงููุฉ ููุดุฑ ุชุทุจูู MedMap ุนูู Linux ุจุฏูู ุงูุญุงุฌุฉ ูุชุซุจูุช .NET

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

### ๐ณ ูููุงุช Docker ุงูุฃุณุงุณูุฉ
1. **`publish/Dockerfile`** - ุตูุฑุฉ Docker ููุชุทุจูู
2. **`docker-compose.yml`** - ุชูููู ุงูุฅูุชุงุฌ (API + PostgreSQL + Nginx)
3. **`docker-compose.dev.yml`** - ุชูููู ุงูุชุทููุฑ (PostgreSQL + pgAdmin)
4. **`.dockerignore`** - ุงุณุชุซูุงุก ุงููููุงุช ุบูุฑ ุงููุทููุจุฉ

### ๐ ุฅุนุฏุงุฏุงุช Nginx
5. **`nginx/nginx.conf`** - ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู ูู Nginx
6. **`nginx/conf.d/medmap.conf`** - ุฅุนุฏุงุฏ ุงููุทุงู medmapgloble.com
   - ูุฏุนู HTTP ู HTTPS
   - Reverse Proxy ููู API
   - ุชุญุณูู ุงูุฃุฏุงุก ูุงูุชุฎุฒูู ุงููุคูุช

### โ๏ธ ูููุงุช ุงูุฅุนุฏุงุฏ
7. **`.env.example`** - ูุงูุจ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
8. **`.gitignore`** - ุงุณุชุซูุงุก ุงููููุงุช ุงูุญุณุงุณุฉ ูู Git

### ๐ง ุณูุฑูุจุชุงุช ุงูุฅุฏุงุฑุฉ
9. **`start.sh`** - ุชุดุบูู ุงูุชุทุจูู
10. **`stop.sh`** - ุฅููุงู ุงูุชุทุจูู
11. **`restart.sh`** - ุฅุนุงุฏุฉ ุงูุชุดุบูู
12. **`logs.sh`** - ุนุฑุถ ุงูุณุฌูุงุช
13. **`health-check.sh`** - ูุญุต ุตุญุฉ ุงููุธุงู
14. **`monitor.sh`** - ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุงููุณุชูุฑุฉ

### ๐พ ุณูุฑูุจุชุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
15. **`backup.sh`** - ูุณุฎ ุงุญุชูุงุทู ูุฏูู
16. **`auto-backup-setup.sh`** - ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
17. **`db-manage.sh`** - ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ๐ ุณูุฑูุจุชุงุช ุงูุฃูุงู
18. **`setup-ssl.sh`** - ุฅุนุฏุงุฏ SSL/HTTPS ุชููุงุฆูุงู
19. **`setup-firewall.sh`** - ุฅุนุฏุงุฏ ุงูุฌุฏุงุฑ ุงููุงุฑู (UFW)
20. **`alert-setup.sh`** - ุฅุนุฏุงุฏ ุงูุชูุจููุงุช ุงูุชููุงุฆูุฉ

### ๐ ุณูุฑูุจุชุงุช ุงููุดุฑ
21. **`update.sh`** - ุชุญุฏูุซ ุงูุชุทุจูู
22. **`pre-deploy-check.sh`** - ูุญุต ุงูุฌุงูุฒูุฉ ูุจู ุงููุดุฑ

### ๐ ุงููุซุงุฆู
23. **`README.md`** - ุงููุซุงุฆู ุงูุฑุฆูุณูุฉ (ุฅูุฌููุฒู)
24. **`ุฏููู_ุงูุชุดุบูู.md`** - ุฏููู ุดุงูู (ุนุฑุจู)
25. **`README_DOCKER.md`** - ูุซุงุฆู Docker ุงูุชูุตูููุฉ
26. **`QUICK_START.md`** - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
27. **`ููุฎุต_ุงููุดุฑูุน.md`** - ูุฐุง ุงูููู

### ๐๏ธ ุฃุฏูุงุช ุฅุถุงููุฉ
28. **`Makefile`** - ุฃูุงูุฑ ูุฎุชุตุฑุฉ (make start, make stop, ุฅูุฎ)

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช
- **postgres_data** - ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญููุธุฉ ุจุดูู ุฏุงุฆู
- **uploads_data** - ุงููููุงุช ุงููุฑููุนุฉ ูู `wwwroot/uploads`
- **frontend_data** - ูููุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูู `wwwroot/build`
- **nginx_logs** - ุณุฌูุงุช Nginx

### โ ุงูุฃูุงู
- ุฏุนู SSL/HTTPS ูุน Let's Encrypt
- ุฅุนุฏุงุฏ ุงูุฌุฏุงุฑ ุงููุงุฑู (UFW)
- ุชูุจููุงุช ุชููุงุฆูุฉ ุนูุฏ ุญุฏูุซ ูุดุงูู
- ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ

### โ ุงููุฑุงูุจุฉ
- ูุญุต ุตุญุฉ ุงููุธุงู
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุงููุณุชูุฑุฉ
- ุณุฌูุงุช ููุตูุฉ
- ุชูุจููุงุช ุนูุฏ ุงูุฃุฎุทุงุก

### โ ุณูููุฉ ุงูุฅุฏุงุฑุฉ
- ุฃูุงูุฑ ุจุณูุทุฉ (make start, make stop)
- ุณูุฑูุจุชุงุช ุชูุงุนููุฉ
- ูุซุงุฆู ุดุงููุฉ ุจุงูุนุฑุจูุฉ
- ุฏุนู ุจูุฆุฉ ุงูุชุทููุฑ

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### 1๏ธโฃ ุงูุฅุนุฏุงุฏ ุงูุฃููู
```bash
# ูุญุต ุงูุฌุงูุฒูุฉ
chmod +x pre-deploy-check.sh
./pre-deploy-check.sh

# ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
cp .env.example .env
nano .env  # ุบููุฑ ูููุฉ ุงููุฑูุฑ
```

### 2๏ธโฃ ุงูุชุดุบูู
```bash
# ุงูุทุฑููุฉ ุงูุฃููู: ุจุงุณุชุฎุฏุงู Make
make setup
make start

# ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุจุงุณุชุฎุฏุงู ุงูุณูุฑูุจุชุงุช
chmod +x *.sh
./start.sh
```

### 3๏ธโฃ ุงูุชุญูู
```bash
# ูุญุต ุงูุตุญุฉ
make health
# ุฃู
./health-check.sh

# ุนุฑุถ ุงูุณุฌูุงุช
make logs
# ุฃู
./logs.sh
```

### 4๏ธโฃ ุฅุนุฏุงุฏ ุงูุฃูุงู (ููุตู ุจู)
```bash
# SSL/HTTPS
./setup-ssl.sh

# ุงูุฌุฏุงุฑ ุงููุงุฑู
sudo ./setup-firewall.sh

# ุงูุชูุจููุงุช
./alert-setup.sh

# ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
./auto-backup-setup.sh
```

---

## ๐ ุงููุตูู ุฅูู ุงูุชุทุจูู

ุจุนุฏ ุงูุชุดุบููุ ูููู ุงููุตูู ุฅูู:

- **ุงููุทุงู**: http://medmapgloble.com (ุฃู https ุจุนุฏ ุฅุนุฏุงุฏ SSL)
- **ูุญูู**: http://localhost
- **API ูุจุงุดุฑ**: http://localhost:5000
- **PostgreSQL**: localhost:5432 (ุฏุงุฎูู ููุท)

---

## ๐ ุงูุจููุฉ ุงูุชุญุชูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           Nginx (Port 80/443)           โ
โ         medmapgloble.com                โ
โ      (Reverse Proxy + SSL)              โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ASP.NET Core API                โ
โ           (Port 5000)                   โ
โ      medicalservices_api                โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        PostgreSQL Database              โ
โ           (Port 5432)                   โ
โ     medical_services_db                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Volumes (ุงูุจูุงูุงุช ุงูุฏุงุฆูุฉ):
โโโ postgres_data (ูุงุนุฏุฉ ุงูุจูุงูุงุช)
โโโ uploads_data (ุงููููุงุช ุงููุฑููุนุฉ)
โโโ frontend_data (ุงููุงุฌูุฉ ุงูุฃูุงููุฉ)
โโโ nginx_logs (ุงูุณุฌูุงุช)
```

---

## ๐ง ุงูุฃูุงูุฑ ุงููููุฏุฉ

### ุฅุฏุงุฑุฉ ุฃุณุงุณูุฉ
```bash
make start          # ุชุดุบูู
make stop           # ุฅููุงู
make restart        # ุฅุนุงุฏุฉ ุชุดุบูู
make logs           # ุงูุณุฌูุงุช
make health         # ูุญุต ุงูุตุญุฉ
make ps             # ุญุงูุฉ ุงูุญุงููุงุช
make stats          # ุงุณุชููุงู ุงูููุงุฑุฏ
```

### ุงููุณุฎ ุงูุงุญุชูุงุทู
```bash
make backup         # ูุณุฎ ุงุญุชูุงุทู ูุฏูู
make restore        # ุงุณุชุนุงุฏุฉ
make db             # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### ุงูุชุทููุฑ
```bash
make dev            # ุจูุฆุฉ ุงูุชุทููุฑ
make dev-stop       # ุฅููุงู ุจูุฆุฉ ุงูุชุทููุฑ
```

### ุงูุตูุงูุฉ
```bash
make update         # ุชุญุฏูุซ ุงูุชุทุจูู
make clean          # ุชูุธูู
make ssl            # ุฅุนุฏุงุฏ SSL
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### โ๏ธ ูุจู ุงููุดุฑ
1. โ ุบููุฑ `POSTGRES_PASSWORD` ูู `.env`
2. โ ุบููุฑ `JWT_SECRET_KEY` ูู `publish/appsettings.json`
3. โ ุชุฃูุฏ ูู ุฃู ุงููุทุงู ูุดูุฑ ุฅูู ุงูุณูุฑูุฑ
4. โ ุงูุชุญ ุงูููุงูุฐ 80 ู 443 ูู ุงูุฌุฏุงุฑ ุงููุงุฑู
5. โ ูู ุจุฅุนุฏุงุฏ SSL ููุฅูุชุงุฌ

### ๐ก ูุตุงุฆุญ
- ุงุณุชุฎุฏู `./pre-deploy-check.sh` ูุจู ุงููุดุฑ
- ุฑุงูุจ ุงูุณุฌูุงุช ุจุงูุชุธุงู: `./monitor.sh`
- ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ: `./backup.sh`
- ุงุณุชุฎุฏู `make help` ูุนุฑุถ ุฌููุน ุงูุฃูุงูุฑ

### ๐ ุงูุฃูุงู
- ุงุณุชุฎุฏู HTTPS ุฏุงุฆูุงู ูู ุงูุฅูุชุงุฌ
- ูุนูู ุงูุฌุฏุงุฑ ุงููุงุฑู
- ุฑุงูุจ ุงูุชูุจููุงุช
- ุญุฏูุซ ุงููุธุงู ุจุงูุชุธุงู

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงููุซุงุฆู
- **ุฏููู ุณุฑูุน**: [QUICK_START.md](QUICK_START.md)
- **ุฏููู ุดุงูู**: [ุฏููู_ุงูุชุดุบูู.md](ุฏููู_ุงูุชุดุบูู.md)
- **ูุซุงุฆู Docker**: [README_DOCKER.md](README_DOCKER.md)
- **ุงููุซุงุฆู ุงูุฑุฆูุณูุฉ**: [README.md](README.md)

### ุงุณุชูุดุงู ุงูุฃุฎุทุงุก
```bash
# ุนุฑุถ ุงูุณุฌูุงุช
./logs.sh

# ูุญุต ุงูุตุญุฉ
./health-check.sh

# ุญุงูุฉ ุงูุญุงููุงุช
docker-compose ps

# ุฅุนุงุฏุฉ ุงูุชุดุบูู
docker-compose restart
```

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุจูุฆุฉ Docker ุงุญุชุฑุงููุฉ ูุงููุฉ ุชุชุถูู:

โ **3 ุฎุฏูุงุช**: API + PostgreSQL + Nginx  
โ **4 Volumes**: ููุญูุงุธ ุนูู ุงูุจูุงูุงุช  
โ **28 ููู**: ุณูุฑูุจุชุงุช ููุซุงุฆู ุดุงููุฉ  
โ **ุฃูุงู ูุงูู**: SSL + Firewall + Alerts  
โ **ูุณุฎ ุงุญุชูุงุทู**: ูุฏูู ูุชููุงุฆู  
โ **ูุฑุงูุจุฉ**: ุตุญุฉ ุงููุธุงู ูุงูุฃุฏุงุก  
โ **ูุซุงุฆู**: ุดุงููุฉ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ  

**ุฌุงูุฒ ูููุดุฑ ูู ุงูุฅูุชุงุฌ! ๐**

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ Augment AI** ๐ค  
**ุงูุชุงุฑูุฎ**: 2025-11-09

