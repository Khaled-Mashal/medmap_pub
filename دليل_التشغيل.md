# ๐ ุฏููู ุงูุชุดุบูู ุงูุณุฑูุน - MedMap

## ๐ ุงููุชุทูุจุงุช
- ุณูุฑูุฑ Linux (Ubuntu 20.04 ุฃู ุฃุญุฏุซ)
- Docker ู Docker Compose
- ุงููุทุงู medmapgloble.com ูุดูุฑ ุฅูู ุงูุณูุฑูุฑ

---

## โก ุงูุชุดุบูู ุงูุณุฑูุน

### 1๏ธโฃ ุชุซุจูุช Docker (ุฅุฐุง ูู ููู ูุซุจุชุงู)
```bash
# ุชุญุฏูุซ ุงููุธุงู
sudo apt-get update

# ุชุซุจูุช Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# ุชุซุจูุช Docker Compose
sudo apt-get install docker-compose-plugin

# ุฅุถุงูุฉ ุงููุณุชุฎุฏู ุงูุญุงูู ููุฌููุนุฉ docker
sudo usermod -aG docker $USER

# ุชุณุฌูู ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู ูุชูุนูู ุงูุชุบููุฑุงุช
```

### 2๏ธโฃ ุฑูุน ุงููููุงุช ุฅูู ุงูุณูุฑูุฑ
```bash
# ูู ุฌูุงุฒู ุงููุญููุ ุงุฑูุน ุงููุดุฑูุน ุฅูู ุงูุณูุฑูุฑ
scp -r medmap/ user@your-server-ip:/home/user/

# ุฃู ุงุณุชุฎุฏู Git
git clone your-repository-url
cd medmap
```

### 3๏ธโฃ ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```bash
# ูุณุฎ ููู ุงููุชุบูุฑุงุช
cp .env.example .env

# ุชุนุฏูู ูููุฉ ุงููุฑูุฑ (ููู!)
nano .env
# ุบููุฑ POSTGRES_PASSWORD ุฅูู ูููุฉ ูุฑูุฑ ูููุฉ
```

### 4๏ธโฃ ุชุดุบูู ุงูุชุทุจูู
```bash
# ุฅุนุทุงุก ุตูุงุญูุงุช ุงูุชูููุฐ ููุณูุฑูุจุชุงุช
chmod +x *.sh

# ุชุดุบูู ุงูุชุทุจูู
./start.sh
```

### 5๏ธโฃ ุงูุชุญูู ูู ุงูุชุดุบูู
```bash
# ูุญุต ุตุญุฉ ุงููุธุงู
./health-check.sh

# ุนุฑุถ ุงูุณุฌูุงุช
./logs.sh
```

---

## ๐ ุงููุตูู ุฅูู ุงูุชุทุจูู

ุจุนุฏ ุงูุชุดุบููุ ููููู ุงููุตูู ุฅูู:
- **ุนุจุฑ ุงููุทุงู**: http://medmapgloble.com
- **ุนุจุฑ IP**: http://YOUR_SERVER_IP
- **API ูุจุงุดุฑ**: http://YOUR_SERVER_IP:5000

---

## ๐ ุฅุนุฏุงุฏ SSL (HTTPS)

### ุงูุทุฑููุฉ ุงูุฃููู: ุชููุงุฆูุงู (ููุตู ุจู)
```bash
# ุชุดุบูู ุณูุฑูุจุช SSL
./setup-ssl.sh
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ูุฏููุงู
```bash
# ุชุซุจูุช Certbot
sudo apt-get install certbot

# ุฅููุงู Nginx ูุคูุชุงู
docker-compose stop nginx

# ุงูุญุตูู ุนูู ุงูุดูุงุฏุฉ
sudo certbot certonly --standalone \
  -d medmapgloble.com \
  -d www.medmapgloble.com

# ูุณุฎ ุงูุดูุงุฏุงุช
sudo mkdir -p nginx/ssl
sudo cp /etc/letsencrypt/live/medmapgloble.com/fullchain.pem nginx/ssl/
sudo cp /etc/letsencrypt/live/medmapgloble.com/privkey.pem nginx/ssl/

# ุชูุนูู SSL ูู nginx/conf.d/medmap.conf
# (ุฅูุบุงุก ุงูุชุนููู ุนู ูุณู HTTPS)

# ุฅุนุงุฏุฉ ุชุดุบูู Nginx
docker-compose start nginx
docker-compose restart nginx
```

---

## ๐๏ธ ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ

### ุฅุฏุงุฑุฉ ุงูุชุทุจูู
```bash
# ุชุดุบูู
./start.sh

# ุฅููุงู
./stop.sh

# ุฅุนุงุฏุฉ ุงูุชุดุบูู
docker-compose restart

# ุนุฑุถ ุงูุณุฌูุงุช
./logs.sh

# ูุญุต ุงูุตุญุฉ
./health-check.sh
```

### ุงููุณุฎ ุงูุงุญุชูุงุทู
```bash
# ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
./backup.sh

# ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุชูุญูุธ ูู ูุฌูุฏ backups/
```

### ุงูุชุญุฏูุซุงุช
```bash
# ุนูุฏ ูุฌูุฏ ุชุญุฏูุซ ุฌุฏูุฏ:
# 1. ุถุน ุงููููุงุช ุงูุฌุฏูุฏุฉ ูู ูุฌูุฏ publish
# 2. ุฃุนุฏ ุจูุงุก ุงูุตูุฑุฉ
docker-compose build api

# 3. ุฃุนุฏ ุชุดุบูู API
docker-compose up -d api
```

---

## ๐ ุงููุฑุงูุจุฉ

### ุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุงุช
```bash
docker-compose ps
```

### ุนุฑุถ ุงุณุชููุงู ุงูููุงุฑุฏ
```bash
docker stats
```

### ุนุฑุถ ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
```bash
# ุฌููุน ุงูุฎุฏูุงุช
docker-compose logs -f

# ุฎุฏูุฉ ูุนููุฉ
docker-compose logs -f api
docker-compose logs -f postgres
docker-compose logs -f nginx
```

---

## ๐๏ธ ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฏุฎูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
docker-compose exec postgres psql -U postgres -d medical_services_db
```

### ูุณุฎ ุงุญุชูุงุทู ูุฏูู
```bash
# ุฅูุดุงุก ูุณุฎุฉ
docker-compose exec postgres pg_dump -U postgres medical_services_db > backup.sql

# ุงุณุชุนุงุฏุฉ ูุณุฎุฉ
docker-compose exec -T postgres psql -U postgres medical_services_db < backup.sql
```

---

## ๐ฅ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุชุทุจูู ูุง ูุนูู
```bash
# 1. ุชุญูู ูู ุงูุณุฌูุงุช
docker-compose logs api

# 2. ุชุญูู ูู ุญุงูุฉ ุงูุญุงููุฉ
docker-compose ps

# 3. ุฃุนุฏ ุชุดุบูู ุงูุฎุฏูุฉ
docker-compose restart api
```

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู
```bash
# 1. ุชุญูู ูู ุงูุณุฌูุงุช
docker-compose logs postgres

# 2. ุชุญูู ูู ุงูุงุชุตุงู
docker-compose exec postgres pg_isready -U postgres

# 3. ุฃุนุฏ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
docker-compose restart postgres
```

### Nginx ูุง ูุนูู
```bash
# 1. ุชุญูู ูู ุงูุณุฌูุงุช
docker-compose logs nginx

# 2. ุงุฎุชุจุฑ ุงูุฅุนุฏุงุฏุงุช
docker-compose exec nginx nginx -t

# 3. ุฃุนุฏ ุชุดุบูู Nginx
docker-compose restart nginx
```

### ูุดููุฉ ูู ุงูุตูุงุญูุงุช
```bash
# ุฅุตูุงุญ ุตูุงุญูุงุช ูุฌูุฏ uploads
docker-compose exec api chmod -R 777 /app/wwwroot/uploads
```

---

## ๐ ุงูุฃูุงู

### โ ูุงุฆูุฉ ุงูุชุญูู ุงูุฃูููุฉ
- [ ] ุชุบููุฑ ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู .env
- [ ] ุชุบููุฑ JWT SecretKey ูู publish/appsettings.json
- [ ] ุชูุนูู HTTPS ูุน ุดูุงุฏุฉ SSL
- [ ] ุฅุนุฏุงุฏ ุฌุฏุงุฑ ูุงุฑู (Firewall)
- [ ] ุฅุบูุงู ุงูููุงูุฐ ุบูุฑ ุงููุณุชุฎุฏูุฉ
- [ ] ุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ
- [ ] ูุฑุงูุจุฉ ุงูุณุฌูุงุช ุจุงูุชุธุงู

### ุฅุนุฏุงุฏ Firewall
```bash
# ุชูุนูู UFW
sudo ufw enable

# ุงูุณูุงุญ ุจู SSH
sudo ufw allow 22

# ุงูุณูุงุญ ุจู HTTP ู HTTPS
sudo ufw allow 80
sudo ufw allow 443

# ุงูุชุญูู ูู ุงูุญุงูุฉ
sudo ufw status
```

---

## ๐ฆ ุงูุจูุงูุงุช ุงููุญููุธุฉ

ุงูุจูุงูุงุช ุงูุชุงููุฉ ูุญููุธุฉ ุจุดูู ุฏุงุฆู ููู ุชูุญุฐู ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู:

1. โ **ูุงุนุฏุฉ ุงูุจูุงูุงุช** - ูู `postgres_data`
2. โ **ุงููููุงุช ุงููุฑููุนุฉ** - ูู `uploads_data`
3. โ **ุงููุงุฌูุฉ ุงูุฃูุงููุฉ** - ูู `frontend_data`
4. โ **ุณุฌูุงุช Nginx** - ูู `nginx_logs`

---

## ๐ ุงูุฏุนู

### ุงูุฃูุงูุฑ ุงููููุฏุฉ ููุฏุนู
```bash
# ูุนูููุงุช ุงููุธุงู
./health-check.sh > system-info.txt

# ุงูุณุฌูุงุช ุงูุฃุฎูุฑุฉ
docker-compose logs --tail=100 > logs.txt

# ุญุงูุฉ ุงูุญุงููุงุช
docker-compose ps > containers-status.txt
```

---

## ๐ฏ ูุตุงุฆุญ ูููุฉ

1. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ูู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููููุงู ุจุงุณุชุฎุฏุงู `./backup.sh`
2. **ุงููุฑุงูุจุฉ**: ุฑุงูุจ ุงูุณุฌูุงุช ุจุงูุชุธุงู ุจุงุณุชุฎุฏุงู `./logs.sh`
3. **ุงูุชุญุฏูุซุงุช**: ุญุฏูุซ ุงููุธุงู ูุงูุชุทุจูู ุจุงูุชุธุงู
4. **ุงูุฃูุงู**: ุงุณุชุฎุฏู HTTPS ุฏุงุฆูุงู ูู ุงูุฅูุชุงุฌ
5. **ุงูููุงุฑุฏ**: ุชุฃูุฏ ูู ูุฌูุฏ ููุงุฑุฏ ูุงููุฉ (RAM, CPU, Disk)

---

## ๐ ูุชุทูุจุงุช ุงูุณูุฑูุฑ ุงูููุตู ุจูุง

### ุงูุญุฏ ุงูุฃุฏูู
- **CPU**: 2 Cores
- **RAM**: 4 GB
- **Storage**: 20 GB SSD

### ุงูููุตู ุจู
- **CPU**: 4 Cores
- **RAM**: 8 GB
- **Storage**: 50 GB SSD

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ Augment AI** ๐ค

