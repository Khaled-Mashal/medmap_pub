# ๐ ุฏููู ูุฌูุฏ ุงูุฎุทูุท (Fonts)

## ๐ฏ ุงูุฎูุงุตุฉ

ุชู ุชูููู Docker ูุฏุนู ูุฌูุฏ `Fonts` ุจุทุฑููุชูู:

1. โ **ูู ูุณุงุฑ ุงูุชุทุจูู**: `/app/Fonts` (ูููุตูู ูู ุงูููุฏ)
2. โ **ูู ูุฌูุฏ ุงููุธุงู**: `/usr/share/fonts/truetype/app-fonts/` (ูุฏุนู fontconfig)

---

## ๐ ูููู ุงููุฌูุฏุงุช

### ูู ุงููุดุฑูุน (Windows):
```
C:\dev_Projects\medmap\
โโโ publish\
    โโโ Fonts\
        โโโ ARIAL.TTF
        โโโ ARIALBD.TTF
        โโโ ARIALI.TTF
        โโโ ARIALBI.TTF
        โโโ ... (ุฎุทูุท ุฃุฎุฑู)
```

### ูู Docker Container:
```
/app/
โโโ Fonts/                    โ ูููุตูู ูู ุงูููุฏ
โ   โโโ ARIAL.TTF
โ   โโโ ARIALBD.TTF
โ   โโโ ...
โโโ medicalservices_api

/usr/share/fonts/truetype/
โโโ app-fonts/                โ ูุฏุนู fontconfig
    โโโ ARIAL.TTF
    โโโ ARIALBD.TTF
    โโโ ...
```

---

## ๐ง ููู ูุนููุ

### 1๏ธโฃ ูู Dockerfile:

```dockerfile
# ูุณุฎ ุฌููุน ุงููููุงุช (ูุดูู ูุฌูุฏ Fonts)
COPY . .

# ุงูุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ Fonts
RUN if [ -d "Fonts" ]; then \
        chmod -R 755 Fonts && \
        echo "โ ูุฌูุฏ Fonts ููุฌูุฏ ูู /app/Fonts"; \
    fi

# ูุณุฎ ุงูุฎุทูุท ุฅูู ูุฌูุฏ ุงููุธุงู ุฃูุถุงู
RUN if [ -d "Fonts" ]; then \
        mkdir -p /usr/share/fonts/truetype/app-fonts && \
        cp Fonts/*.TTF /usr/share/fonts/truetype/app-fonts/ 2>/dev/null || true && \
        cp Fonts/*.ttf /usr/share/fonts/truetype/app-fonts/ 2>/dev/null || true; \
    fi

# ุชุญุฏูุซ ูุงุด ุงูุฎุทูุท
RUN fc-cache -f -v
```

### 2๏ธโฃ ูู ุงูููุฏ (C#):

```csharp
// ุงููุณุงุฑ ุณูููู: /app/Fonts
var fontsPath = Path.Combine(Directory.GetCurrentDirectory(), "Fonts");

if (Directory.Exists(fontsPath))
{
    var fontRepository = DXFontRepository.Instance;
    
    var fontFiles = new[]
    {
        Path.Combine(fontsPath, "ARIAL.TTF"),
        Path.Combine(fontsPath, "ARIALBD.TTF"),
        Path.Combine(fontsPath, "ARIALI.TTF"),
        Path.Combine(fontsPath, "ARIALBI.TTF")
    };
    
    foreach (var fontFile in fontFiles)
    {
        if (File.Exists(fontFile))
        {
            byte[] fontData = File.ReadAllBytes(fontFile);
            fontRepository.AddFont(fontData);
            Console.WriteLine($"โ ุชู ุชุญููู ุงูุฎุท: {Path.GetFileName(fontFile)}");
        }
    }
}
```

---

## โ ุงููุฒุงูุง

### 1. **ุงููุตูู ูู ุงูููุฏ**:
- ุงูุฎุทูุท ููุฌูุฏุฉ ูู `/app/Fonts`
- ูููู ููุชุทุจูู ูุฑุงุกุชูุง ูุจุงุดุฑุฉ
- DevExpress ููููู ุชุญููููุง

### 2. **ุฏุนู ุงููุธุงู**:
- ุงูุฎุทูุท ููุณูุฎุฉ ุฅูู `/usr/share/fonts/truetype/app-fonts/`
- fontconfig ููููู ุงูุชุดุงููุง
- System.Drawing ููููู ุงุณุชุฎุฏุงููุง

### 3. **ุงููุฑููุฉ**:
- ูููู ุฅุถุงูุฉ ุฎุทูุท ุฌุฏูุฏุฉ ุจุณูููุฉ
- ูุง ุญุงุฌุฉ ูุชุนุฏูู ุงูููุฏ
- ููุท ุถุน ุงูุฎุทูุท ูู ูุฌูุฏ `Fonts`

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฅุถุงูุฉ ุฎุทูุท ุฌุฏูุฏุฉ:

#### 1๏ธโฃ ูู Windows:
```powershell
# ุงูุณุฎ ุงูุฎุทูุท ุฅูู ูุฌูุฏ publish\Fonts
Copy-Item C:\Windows\Fonts\arial.ttf C:\dev_Projects\medmap\publish\Fonts\
Copy-Item C:\Windows\Fonts\times.ttf C:\dev_Projects\medmap\publish\Fonts\
```

#### 2๏ธโฃ ุฃุนุฏ ุจูุงุก Docker:
```bash
docker-compose build api
docker-compose up -d api
```

#### 3๏ธโฃ ุชุญูู ูู ุงูุฎุทูุท:
```bash
# ุชุญูู ูู ูุฌูุฏ ุงูุชุทุจูู
docker exec medmap_api ls -la /app/Fonts/

# ุชุญูู ูู ูุฌูุฏ ุงููุธุงู
docker exec medmap_api ls -la /usr/share/fonts/truetype/app-fonts/

# ุชุญูู ูู fontconfig
docker exec medmap_api fc-list | grep -i arial
```

---

## ๐ ุงูุชุญูู ูู ุงูุฎุทูุท

### ูู ุงูุฎุงุฏู:

```bash
# 1. ุชุญูู ูู ูุฌูุฏ ูุฌูุฏ Fonts
docker exec medmap_api ls -la /app/Fonts/

# 2. ุชุญูู ูู ูุญุชููุงุช ุงููุฌูุฏ
docker exec medmap_api find /app/Fonts -name "*.TTF" -o -name "*.ttf"

# 3. ุชุญูู ูู ุงูุตูุงุญูุงุช
docker exec medmap_api stat /app/Fonts/ARIAL.TTF

# 4. ุชุญูู ูู fontconfig
docker exec medmap_api fc-list | grep -i arial

# 5. ุงุฎุชุจุฑ ูุฑุงุกุฉ ุงูููู
docker exec medmap_api cat /app/Fonts/ARIAL.TTF | wc -c
```

### ูู ุงูููุฏ (ุนูุฏ ุจุฏุก ุงูุชุทุจูู):

ุณุชุฑู ุฑุณุงุฆู ูุซู:
```
โ ูุฌูุฏ Fonts ููุฌูุฏ ูู /app/Fonts
โ ุชู ุชุญููู ุงูุฎุท: ARIAL.TTF
โ ุชู ุชุญููู ุงูุฎุท: ARIALBD.TTF
โ ุชู ุชุญููู ุงูุฎุท: ARIALI.TTF
โ ุชู ุชุญููู ุงูุฎุท: ARIALBI.TTF
โ ุชู ุชุญููู 4 ูู 4 ุฎุทูุท ูุฎุตุตุฉ
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ 1: "ูุฌูุฏ Fonts ุบูุฑ ููุฌูุฏ"

```bash
# ุชุญูู ูู ุงูุจูุงุก
docker-compose build api --no-cache

# ุชุญูู ูู ุงููุฌูุฏ
docker exec medmap_api ls -la /app/ | grep Fonts
```

**ุงูุญู:**
- ุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ `publish/Fonts` ูู ุงููุดุฑูุน
- ุชุฃูุฏ ูู ุฃู `COPY . .` ูู Dockerfile ููุณุฎ ูู ุดูุก

---

### ุงููุดููุฉ 2: "ูุดู ุชุญููู ุงูุฎุท"

```bash
# ุชุญูู ูู ุงูุตูุงุญูุงุช
docker exec medmap_api ls -la /app/Fonts/ARIAL.TTF

# ุชุญูู ูู ููุน ุงูููู
docker exec medmap_api file /app/Fonts/ARIAL.TTF
```

**ุงูุญู:**
```dockerfile
# ูู Dockerfileุ ุชุฃูุฏ ูู:
RUN chmod -R 755 Fonts
```

---

### ุงููุดููุฉ 3: "ุงูุฎุท ุบูุฑ ูุชุงุญ ูู System.Drawing"

```bash
# ุชุญูู ูู fontconfig
docker exec medmap_api fc-list | grep -i arial

# ุฃุนุฏ ุจูุงุก ูุงุด ุงูุฎุทูุท
docker exec medmap_api fc-cache -f -v
```

**ุงูุญู:**
- ุชุฃูุฏ ูู ูุณุฎ ุงูุฎุทูุท ุฅูู `/usr/share/fonts/truetype/app-fonts/`
- ุชุฃูุฏ ูู ุชุดุบูู `fc-cache -f -v`

---

## ๐ ููุงุฑูุฉ ุงูุทุฑู

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงูุงุณุชุฎุฏุงู | ุงููุฒุงูุง |
|---------|--------|-----------|---------|
| **ูุฌูุฏ ุงูุชุทุจูู** | `/app/Fonts` | DevExpress, ูุฑุงุกุฉ ูุจุงุดุฑุฉ | โ ุณุฑูุนุ โ ูุจุงุดุฑ |
| **ูุฌูุฏ ุงููุธุงู** | `/usr/share/fonts/truetype/app-fonts/` | fontconfig, System.Drawing | โ ุฏุนู ุงููุธุงูุ โ ุชูุงูู |

**ุงูุฎูุงุตุฉ:** ูุณุชุฎุฏู **ููุง ุงูุทุฑููุชูู** ูุถูุงู ุงูุชูุงูู ุงููุงูู! ๐ฏ

---

## ๐ก ูุตุงุฆุญ

### โ ุงูุฃูุถู:
1. ุถุน ุฌููุน ุงูุฎุทูุท ูู `publish/Fonts`
2. ุงุณุชุฎุฏู ุฃุณูุงุก ุจุฃุญุฑู ูุจูุฑุฉ (`.TTF`) ุฃู ุตุบูุฑุฉ (`.ttf`)
3. ุชุฃูุฏ ูู ุงูุตูุงุญูุงุช (755)

### โ๏ธ ุชุฌูุจ:
1. ูุง ุชุถุน ุงูุฎุทูุท ูู ูุฌูุฏุงุช ูุฑุนูุฉ
2. ูุง ุชุณุชุฎุฏู ุฃุณูุงุก ูููุงุช ุจูุณุงูุงุช
3. ูุง ุชูุณู ุฅุนุงุฏุฉ ุงูุจูุงุก ุจุนุฏ ุฅุถุงูุฉ ุฎุทูุท

---

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### 1๏ธโฃ ุฅุถุงูุฉ ุฎุทูุท ุฌุฏูุฏุฉ:
```powershell
# ูู Windows
Copy-Item C:\Windows\Fonts\*.ttf C:\dev_Projects\medmap\publish\Fonts\
```

### 2๏ธโฃ ุฅุนุงุฏุฉ ุงูุจูุงุก:
```bash
# ูู ุงูุฎุงุฏู
cd /opt/medmap_pub
docker-compose build api
docker-compose up -d api
```

### 3๏ธโฃ ุงูุชุญูู:
```bash
# ุชุญูู ูู ุงูุฎุทูุท
docker exec medmap_api ls -la /app/Fonts/

# ุชุญูู ูู ุงูุณุฌูุงุช
docker logs medmap_api | grep "ุชู ุชุญููู ุงูุฎุท"
```

### 4๏ธโฃ ุงูุงุฎุชุจุงุฑ:
- ุงูุชุญ ุงูุชุทุจูู
- ุฃูุดุฆ ุชูุฑูุฑ
- ุชุญูู ูู ุงูุฎุทูุท

---

## ๐ ูุฑุงุฌุน

- [DevExpress Font Management](https://docs.devexpress.com/XtraReports/401974/detailed-guide-to-devexpress-reporting/use-report-controls/use-fonts)
- [Linux Font Configuration](https://www.freedesktop.org/wiki/Software/fontconfig/)
- [Docker COPY Command](https://docs.docker.com/engine/reference/builder/#copy)

---

**ุชู ุงูุชุญุฏูุซ:** 2025-11-09  
**ุงูุฅุตุฏุงุฑ:** 1.0

---

## โ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

ุงูุขู ูุฌูุฏ `Fonts` ูุชุงุญ ูู:
- โ `/app/Fonts` - ูููุตูู ูู ุงูููุฏ
- โ `/usr/share/fonts/truetype/app-fonts/` - ูุฏุนู ุงููุธุงู
- โ ุงูุตูุงุญูุงุช ุตุญูุญุฉ (755)
- โ fontconfig ูุญุฏุซ

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

