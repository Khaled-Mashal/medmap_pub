# โ ููุฎุต ุฏุนู ุงูุฎุทูุท ุงูููุงุฆู

## ๐ฏ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุชูููู Docker ูุฏุนู ุงูุฎุทูุท ุจุดูู ูุงูู ูุน **3 ูุณุชููุงุช**:

### 1๏ธโฃ ูุฌูุฏ ุงูุชุทุจูู (`/app/Fonts`)
- โ ูุชุงุญ ููููุฏ ูุจุงุดุฑุฉ
- โ DevExpress ููููู ูุฑุงุกุชู
- โ ุงูุตูุงุญูุงุช ุตุญูุญุฉ (755)

### 2๏ธโฃ ูุฌูุฏ ุงููุธุงู (`/usr/share/fonts/truetype/app-fonts/`)
- โ fontconfig ููุชุดูู ุชููุงุฆูุงู
- โ System.Drawing ููููู ุงุณุชุฎุฏุงูู
- โ ูุชุงุญ ูุฌููุน ุงูุชุทุจููุงุช

### 3๏ธโฃ ุฎุทูุท ุงููุธุงู ุงูููุชูุญุฉ
- โ Liberation Fonts (ุจุฏูู Arial, Times, Courier)
- โ DejaVu Fonts (ุจุฏูู Verdana, Tahoma)
- โ Noto Fonts (ุฏุนู Unicode)
- โ KACST Fonts (ุฎุทูุท ุนุฑุจูุฉ)

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ

### 1. **Dockerfile** (ูุญุฏุซ)
```dockerfile
# ูุณุฎ ุฌููุน ุงููููุงุช (ูุดูู ูุฌูุฏ Fonts)
COPY . .

# ุงูุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ Fonts
RUN if [ -d "Fonts" ]; then \
        chmod -R 755 Fonts && \
        echo "โ ูุฌูุฏ Fonts ููุฌูุฏ ูู /app/Fonts"; \
    fi

# ูุณุฎ ุงูุฎุทูุท ุฅูู ูุฌูุฏ ุงููุธุงู
RUN if [ -d "Fonts" ]; then \
        mkdir -p /usr/share/fonts/truetype/app-fonts && \
        cp Fonts/*.TTF /usr/share/fonts/truetype/app-fonts/ 2>/dev/null || true && \
        cp Fonts/*.ttf /usr/share/fonts/truetype/app-fonts/ 2>/dev/null || true; \
    fi

# ุชุญุฏูุซ ูุงุด ุงูุฎุทูุท
RUN fc-cache -f -v
```

### 2. **fonts.conf** (ุฌุฏูุฏ)
- ุชูุฌูู ุฃุณูุงุก ุฎุทูุท Microsoft ููุจุฏุงุฆู
- Arial โ Liberation Sans
- Times New Roman โ Liberation Serif
- Verdana โ DejaVu Sans

### 3. **check-fonts.sh** (ุฌุฏูุฏ)
- ุณูุฑูุจุช ููุชุญูู ูู ุงูุฎุทูุท
- ููุญุต `/app/Fonts`
- ููุญุต ูุฌูุฏ ุงููุธุงู
- ููุญุต fontconfig

### 4. **ุฏููู_ุงูุฎุทูุท.md** (ุฌุฏูุฏ)
- ุฏููู ุดุงูู ูุงุณุชุฎุฏุงู ุงูุฎุทูุท
- ุฌุฏูู ุงูุจุฏุงุฆู
- ุฃูุซูุฉ ุงูููุฏ

### 5. **ุฏููู_ูุฌูุฏ_ุงูุฎุทูุท.md** (ุฌุฏูุฏ)
- ุดุฑุญ ุชูุตููู ููุฌูุฏ Fonts
- ููููุฉ ุฅุถุงูุฉ ุฎุทูุท ุฌุฏูุฏุฉ
- ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 6. **ุฎุทูุท_Microsoft_ุงููุงููููุฉ.md** (ุฌุฏูุฏ)
- ุงููุถุน ุงููุงูููู ููุฎุทูุท
- ููุงุฑูุฉ ุงูุฎูุงุฑุงุช
- ุงูุชูุตูุงุช

### 7. **install-ms-fonts.sh** (ุฌุฏูุฏ)
- ุณูุฑูุจุช ููุณุฎ ุฎุทูุท Windows
- ุงูุชุญูู ูู ุงูุฎุทูุท
- ุชุนูููุงุช ููุตูุฉ

### 8. **Makefile** (ูุญุฏุซ)
- ุฃูุฑ ุฌุฏูุฏ: `make check-fonts`

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุงูุชุญูู ูู ุงูุฎุทูุท:
```bash
# ูู ุงูุฎุงุฏู
make check-fonts
```

ุฃู:
```bash
./check-fonts.sh
```

### ุฅุถุงูุฉ ุฎุทูุท ุฌุฏูุฏุฉ:

#### ุงูุทุฑููุฉ 1: ูู Windows
```powershell
# ูู Windows
Copy-Item C:\Windows\Fonts\arial.ttf C:\dev_Projects\medmap\publish\Fonts\
```

#### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช
```bash
./install-ms-fonts.sh
```

### ุฅุนุงุฏุฉ ุงูุจูุงุก:
```bash
docker-compose build api
docker-compose up -d api
```

---

## ๐ป ูู ุงูููุฏ

### ุงุณุชุฎุฏุงู ุงูุฎุทูุท ูู ูุฌูุฏ Fonts:

```csharp
var fontsPath = Path.Combine(Directory.GetCurrentDirectory(), "Fonts");

if (Directory.Exists(fontsPath))
{
    var fontRepository = DXFontRepository.Instance;
    
    var fontFiles = new[]
    {
        Path.Combine(fontsPath, "ARIAL.TTF"),
        Path.Combine(fontsPath, "ARIALBD.TTF"),
        Path.Combine(fontsPath, "ARIALI.TTF"),
        Path.Combine(fontsPath, "ARIALBI.TTF")
    };
    
    foreach (var fontFile in fontFiles)
    {
        if (File.Exists(fontFile))
        {
            byte[] fontData = File.ReadAllBytes(fontFile);
            fontRepository.AddFont(fontData);
            Console.WriteLine($"โ ุชู ุชุญููู ุงูุฎุท: {Path.GetFileName(fontFile)}");
        }
    }
}
```

### ุงุณุชุฎุฏุงู ุงูุจุฏุงุฆู ุงูููุชูุญุฉ:

```csharp
// ุจุฏูุงู ูู Arial
Font font = new Font("Liberation Sans", 12);

// ุจุฏูุงู ูู Times New Roman
Font font = new Font("Liberation Serif", 14);

// ุจุฏูุงู ูู Verdana
Font font = new Font("DejaVu Sans", 12);

// ููุนุฑุจูุฉ
Font font = new Font("KacstOne", 14);
```

---

## ๐ ุงูุชุญูู

### 1. ุชุญูู ูู ูุฌูุฏ ุงููุฌูุฏ:
```bash
docker exec medmap_api ls -la /app/Fonts/
```

### 2. ุชุญูู ูู ุงูุฎุทูุท:
```bash
docker exec medmap_api find /app/Fonts -name "*.TTF" -o -name "*.ttf"
```

### 3. ุชุญูู ูู fontconfig:
```bash
docker exec medmap_api fc-list | grep -i arial
```

### 4. ุชุญูู ูู ุงูุณุฌูุงุช:
```bash
docker logs medmap_api | grep -i "ุชู ุชุญููู ุงูุฎุท"
```

---

## ๐ ุงูุฎุทูุท ุงููุชุงุญุฉ

### ูู `/app/Fonts`:
- ARIAL.TTF
- ARIALBD.TTF
- ARIALI.TTF
- ARIALBI.TTF
- ARIALN.TTF
- ARIALNB.TTF
- ARIALNBI.TTF
- ARIALNI.TTF
- ARIBLK.TTF
- ARLRDBD.TTF

### ูู ุงููุธุงู:
- Liberation Sans/Serif/Mono
- DejaVu Sans/Serif/Mono
- Noto Sans/Serif
- KacstOne/KacstBook
- Arabic Typesetting

---

## ๐ฏ ุฌุฏูู ุงูุจุฏุงุฆู

| ุฎุท Microsoft | ุงูุจุฏูู ุงูููุชูุญ | ุงูุชุดุงุจู | ุงููููุน |
|-------------|----------------|---------|--------|
| Arial | Liberation Sans | 95% | ุงููุธุงู |
| Times New Roman | Liberation Serif | 95% | ุงููุธุงู |
| Courier New | Liberation Mono | 95% | ุงููุธุงู |
| Verdana | DejaVu Sans | 90% | ุงููุธุงู |
| Tahoma | DejaVu Sans | 90% | ุงููุธุงู |
| Arial (ุฃุตูู) | ARIAL.TTF | 100% | `/app/Fonts` |

---

## ๐ก ุงูุชูุตูุงุช

### โ ููุฅูุชุงุฌ:
1. ุงุณุชุฎุฏู **ุงูุจุฏุงุฆู ุงูููุชูุญุฉ** (Liberation, DejaVu)
2. ุขููุฉ ูุงููููุงู 100%
3. ุฌูุฏุฉ ููุชุงุฒุฉ
4. ุฏุนู ูุงูู ููุนุฑุจูุฉ

### ๐งช ููุชุทููุฑ:
1. ููููู ุงุณุชุฎุฏุงู ุฎุทูุท Windows ุงูุฃุตููุฉ
2. ุถุนูุง ูู `publish/Fonts`
3. ุณูุชู ูุณุฎูุง ุชููุงุฆูุงู

### ๐จ ููุชูุงุฑูุฑ:
1. ุงุณุชุฎุฏู `DXFontRepository.Instance.AddFont()`
2. ุญููู ุงูุฎุทูุท ูู `/app/Fonts`
3. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฎุทูุท ูุจู ุงูุงุณุชุฎุฏุงู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุฌูุฏ Fonts ุบูุฑ ููุฌูุฏ"
```bash
# ุงูุญู
docker-compose build api --no-cache
docker-compose up -d api
```

### ุงููุดููุฉ: "ูุดู ุชุญููู ุงูุฎุท"
```bash
# ุชุญูู ูู ุงูุตูุงุญูุงุช
docker exec medmap_api ls -la /app/Fonts/ARIAL.TTF

# ุงูุญู
docker exec medmap_api chmod 755 /app/Fonts/ARIAL.TTF
```

### ุงููุดููุฉ: "ุงูุฎุท ุบูุฑ ูุชุงุญ ูู System.Drawing"
```bash
# ุฃุนุฏ ุจูุงุก ูุงุด ุงูุฎุทูุท
docker exec medmap_api fc-cache -f -v

# ุชุญูู
docker exec medmap_api fc-list | grep -i arial
```

---

## ๐ ุงููุซุงุฆู

- โ `ุฏููู_ุงูุฎุทูุท.md` - ุฏููู ุดุงูู
- โ `ุฏููู_ูุฌูุฏ_ุงูุฎุทูุท.md` - ุดุฑุญ ูุฌูุฏ Fonts
- โ `ุฎุทูุท_Microsoft_ุงููุงููููุฉ.md` - ุงููุถุน ุงููุงูููู
- โ `check-fonts.sh` - ุณูุฑูุจุช ุงูุชุญูู
- โ `install-ms-fonts.sh` - ุณูุฑูุจุช ุงูุชุซุจูุช

---

## โ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

### ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฏุนู ูุงูู ููุฌูุฏ `Fonts` ูู `/app/Fonts`
- โ ูุณุฎ ุงูุฎุทูุท ุฅูู ูุฌูุฏ ุงููุธุงู
- โ ุชุซุจูุช ุฎุทูุท ููุชูุญุฉ ุงููุตุฏุฑ (Liberation, DejaVu, Noto, KACST)
- โ ุฅุนุฏุงุฏุงุช Font Aliases (ุชูุฌูู ุชููุงุฆู)
- โ ุฏุนู ุฎุทูุท Windows ุงูุฃุตููุฉ (ุงุฎุชูุงุฑู)
- โ ุณูุฑูุจุช ููุชุญูู ูู ุงูุฎุทูุท
- โ ูุซุงุฆู ุดุงููุฉ

### ุงูุฎุทูุท ุงููุชุงุญุฉ:
- โ **10 ุฎุทูุท** ูู `/app/Fonts` (Arial ูุนุงุฆูุชู)
- โ **50+ ุฎุท** ูู ุงููุธุงู (Liberation, DejaVu, Noto, KACST)
- โ **ุฏุนู ูุงูู** ููุนุฑุจูุฉ ูุงููุงุชูููุฉ

### ุงูุงุณุชุฎุฏุงู:
```csharp
// ูู ุงูููุฏ
var fontsPath = Path.Combine(Directory.GetCurrentDirectory(), "Fonts");
// ุณูููู: /app/Fonts โ

// ุฃู ุงุณุชุฎุฏู ุงูุจุฏุงุฆู
Font font = new Font("Liberation Sans", 12); // โ
```

### ุงูุชุญูู:
```bash
make check-fonts  # โ
```

---

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

**ุชู ุงูุชุญุฏูุซ:** 2025-11-09  
**ุงูุฅุตุฏุงุฑ:** 1.0

